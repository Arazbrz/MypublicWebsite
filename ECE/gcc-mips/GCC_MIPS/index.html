<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="My Portofolio">
    <meta name="author" content="Araz B Karimi">
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    
    <title>Installing The GCC-MIPS Compiler - Araz Karimi | Personal Website</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../css/base.min.css" rel="stylesheet">
    <link href="../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../../..">Araz Karimi | Personal Website</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../overview.md">Electrical Engineering</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../DS/overview.md">Example Projects</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../CN/overview.md">Contact</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#background">Background</a></li>
            <li class="second-level"><a href="#what-compilers-do">What Compilers Do</a></li>
                
            <li class="second-level"><a href="#the-linker">The Linker</a></li>
                
        <li class="first-level "><a href="#for-this-class">For this class</a></li>
        <li class="first-level "><a href="#install-binutils">Install Binutils</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">


<H1>Installing The GCC-MIPS Compiler</H1>



<p><b>Author:</b> Yehowshua Immanuel</p>



<a href="../pdfs/GCC_MIPS.pdf"><strong>PDF Version</strong></a>


<h1 id="background">Background<a class="headerlink" href="#background" title="Permanent link">&para;</a></h1>
<p>In the early part of this class, we'll be designing a MIPS processor. To test, our processor, we need it to execute
instructions. While it is possible to assemble instructions
from opcodes by hand, and type them up into a memory array in
Verilog manually, there are already tools available to do this.</p>
<h2 id="what-compilers-do">What Compilers Do<a class="headerlink" href="#what-compilers-do" title="Permanent link">&para;</a></h2>
<p>A compiler will take a source language such as C and convert it
into some intermediate language. This intermediate language
is usually one step above assembly. The compiler, in another
pass will then take the intermediate language and lower
it into assembly internally. After this, the compiler will
<strong>assemble</strong> or <strong>encode</strong> the instructions into opcodes.
Lastly, the compiler will often emit one or more object files. </p>
<p>These different stages are usually referred to as compiler 
passes. Examples of compilers that behave like this are
GNU C Compiler and Clang+LLVM compiler toolchain.</p>
<p>Usually, the passes look like this:</p>
<ol>
<li>Compiler starts by lexing source</li>
<li>Parser generates an abstract syntax tree</li>
<li>Compiler runs AST optimizations</li>
<li>Compiler emits intermediate</li>
<li>Compiler runs more optimization passes</li>
<li>
<p>Compiler generates assembly files with symbols</p>
<p>You can usually pass flags to a compiler to stop here.
For example, to get assembly out of gcc, you can pass the <code>-S</code>
flag.
   <pre class="highlight"><code class="language-bash">gcc -S foo.c</code></pre>
   Also, <strong>symbols</strong> are references to names of functions, or links
   to locations of data that will be translated into addresses
   once the linker resolves symbols from object files</p>
</li>
<li>
<p>Translate the assembly to object files. Object files
have mostly assembled opcodes, but still have unresolved 
symbols and possibly addresses.
   Often times, people will have the compiler stop here using
   the <code>-o</code> flag. For example:
   <pre class="highlight"><code class="language-bash">gcc foo.c -o foo.o
gcc bar.c -o bar.o
ld foo.o bar.o -o foobar</code></pre></p>
</li>
<li>
<p>The linker is invoked to link the object files together.</p>
</li>
</ol>
<h2 id="the-linker">The Linker<a class="headerlink" href="#the-linker" title="Permanent link">&para;</a></h2>
<p>The linker uses a linker script that tells it how to place
certain parts of the generated executable into memory.
For example, the instructions at the start of the program may need to be placed at address 0x4000.</p>
<p>Usually, the linker uses a default linker script that is
specific to the operating system.</p>
<p>Also, many processors use interrupts. For an embedded processor,
the interrupt routines have to be placed at a specific address
in memory. In a general computer processor with an operating 
system, usually the kernel places interrupt routines at the
right spots in memory during boot-up.</p>
<h1 id="for-this-class">For this class<a class="headerlink" href="#for-this-class" title="Permanent link">&para;</a></h1>
<p>In this class, since we won't be designing a processor that
is completely capable of supporting C library routines 
from <code>libstdc</code>, we will be mainly working with assembly files.</p>
<p>For example, printf won't work on our processor - we're only
focusing on 15 out of 72 instructions.</p>
<p>Thus, we don't need a full compiler toolchain, we just need the assembler and linker.</p>
<p>GCC Binutils provides a MIPs linker and assembler.</p>
<h1 id="install-binutils">Install Binutils<a class="headerlink" href="#install-binutils" title="Permanent link">&para;</a></h1>
<p>First make sure that you have install <a href="/resources/brew/brew">brew</a></p>
<p>Then do:</p>
<pre class="highlight"><code class="language-bash">brew install bracketmaster/rtl/binutils-mips-elf</code></pre>
<p>If you can do:</p>
<pre class="highlight"><code class="language-bash">mips-elf-as --help

Usage: mips-elf-as [option...] [asmfile...]
Options:
  -a[sub-option...]   turn on listings
                          Sub-options [default hls]:
                          c      omit false conditionals
...</code></pre>
<p>Then you're good to go.</p></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
        <small>Developed by <a href="mailto:yimmanuel3@gatech.edu">Yehowshua Immanuel</a>. Maintained by <a href="mailto:tushar@ece.gatech.edu">Tushar Krishna</a></small>
        </p>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/bash.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/python.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/verilog.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/c.min.js"></script>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/c++.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <script>var base_url = "../../.."</script>
    
    <script src="../../../js/base.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="../../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
